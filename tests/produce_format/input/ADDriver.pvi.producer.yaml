# yaml-language-server: $schema=../../../schemas/pvi.producer.schema.json
type: AsynProducer
label: AD Driver
prefix: $(P)$(R)
asyn_port: $(PORT)
address: $(ADDR=0)
timeout: $(TIMEOUT=1)
parent: asynNDArrayDriver
parameters:

- type: Group
  name: ComponentGroupOne
  layout:
    type: Grid
  children:

  - type: AsynBinary
    name: ReadStatus
    description: ReadStatus
    drv_info: READ_STATUS
    access: W
    record_fields:
      SCAN: Passive
    index_name: ADReadStatus

  - type: AsynLong
    name: MaxSizeX
    description: MaxSizeX_RBV
    drv_info: MAX_SIZE_X
    access: R
    record_fields:
      SCAN: I/O Intr
    index_name: ADMaxSizeX

  - type: AsynLong
    name: MaxSizeY
    description: MaxSizeY_RBV
    drv_info: MAX_SIZE_Y
    access: R
    record_fields:
      SCAN: I/O Intr
    index_name: ADMaxSizeY

  - type: AsynFloat64
    name: TimeRemaining
    description: TimeRemaining_RBV
    drv_info: TIME_REMAINING
    access: R
    record_fields:
      SCAN: I/O Intr
      PREC: 3
    index_name: ADTimeRemaining

  - type: AsynLong
    name: NumExposuresCounter
    description: NumExposuresCounter_RBV
    drv_info: NEXPOSURES_COUNTER
    access: R
    record_fields:
      SCAN: I/O Intr
    index_name: ADNumExposuresCounter

  - type: AsynLong
    name: NumImagesCounter
    description: NumImagesCounter_RBV
    drv_info: NIMAGES_COUNTER
    access: R
    record_fields:
      SCAN: $(SCANRATE=I/O Intr)
    index_name: ADNumImagesCounter

  - type: AsynMultiBitBinary
    name: DetectorState
    description: DetectorState_RBV
    drv_info: STATUS
    access: R
    record_fields:
      SCAN: I/O Intr
      EIST: Initializing
      EISV: NO_ALARM
      EIVL: '8'
      FRST: Saving
      FRSV: NO_ALARM
      FRVL: '4'
      FVST: Aborting
      FVSV: MINOR
      FVVL: '5'
      NIST: Disconnected
      NISV: INVALID
      NIVL: '9'
      ONST: Acquire
      ONSV: NO_ALARM
      ONVL: '1'
      SVST: Waiting
      SVSV: NO_ALARM
      SVVL: '7'
      SXST: Error
      SXSV: MAJOR
      SXVL: '6'
      TEST: Aborted
      TESV: MINOR
      TEVL: '10'
      THST: Correct
      THSV: NO_ALARM
      THVL: '3'
      TWST: Readout
      TWSV: NO_ALARM
      TWVL: '2'
      ZRST: Idle
      ZRSV: NO_ALARM
      ZRVL: '0'
    index_name: ADStatus

  - type: AsynWaveform
    name: StatusMessage
    description: StatusMessage_RBV
    drv_info: STATUS_MESSAGE
    access: R
    record_fields:
      SCAN: I/O Intr
      FTVL: CHAR
      NELM: '256'
    index_name: ADStatusMessage

  - type: AsynWaveform
    name: StringToServer
    description: StringToServer_RBV
    drv_info: STRING_TO_SERVER
    access: R
    record_fields:
      SCAN: I/O Intr
      FTVL: CHAR
      NELM: '256'
    index_name: ADStringToServer

  - type: AsynWaveform
    name: StringFromServer
    description: StringFromServer_RBV
    drv_info: STRING_FROM_SERVER
    access: R
    record_fields:
      SCAN: I/O Intr
      FTVL: CHAR
      NELM: '256'
    index_name: ADStringFromServer

  - type: AsynBinary
    name: ShutterStatus
    description: ShutterStatus_RBV
    drv_info: SHUTTER_STATUS
    access: R
    record_fields:
      SCAN: I/O Intr
      ONAM: Open
      OSV: MINOR
      ZNAM: Closed
      ZSV: NO_ALARM
    index_name: ADShutterStatus

  - type: AsynBinary
    name: ShutterControlEPICS
    description: ShutterControlEPICS
    drv_info: SHUTTER_CONTROL_EPICS
    access: R
    read_record_suffix: ShutterControlEPICS
    record_fields:
      FLNK: $(P)$(R)ShutterFanout.PROC
      SCAN: I/O Intr
      ONAM: Open
      OSV: MINOR
      ZNAM: Closed
      ZSV: NO_ALARM
    index_name: ADShutterControlEPICS

  - type: AsynFloat64
    name: TemperatureActual
    description: TemperatureActual
    drv_info: TEMPERATURE_ACTUAL
    access: R
    read_record_suffix: TemperatureActual
    record_fields:
      SCAN: I/O Intr
      EGU: C
      PREC: 1
    index_name: ADTemperatureActual

  - type: AsynLong
    name: BinX
    description: BinX
    drv_info: BIN_X
    initial: 1
    record_fields:
      SCAN: I/O Intr
    index_name: ADBinX

  - type: AsynLong
    name: BinY
    description: BinY
    drv_info: BIN_Y
    initial: 1
    record_fields:
      SCAN: I/O Intr
    index_name: ADBinY

  - type: AsynLong
    name: MinX
    description: MinX
    drv_info: MIN_X
    initial: 0
    record_fields:
      SCAN: I/O Intr
    index_name: ADMinX

  - type: AsynLong
    name: MinY
    description: MinY
    drv_info: MIN_Y
    initial: 0
    record_fields:
      SCAN: I/O Intr
    index_name: ADMinY

  - type: AsynLong
    name: SizeX
    description: SizeX
    drv_info: SIZE_X
    initial: 1
    record_fields:
      SCAN: I/O Intr
    index_name: ADSizeX

  - type: AsynLong
    name: SizeY
    description: SizeY
    drv_info: SIZE_Y
    initial: 1
    record_fields:
      SCAN: I/O Intr
    index_name: ADSizeY

  - type: AsynBinary
    name: ReverseX
    description: ReverseX
    drv_info: REVERSE_X
    initial: 0
    record_fields:
      SCAN: I/O Intr
      ONAM: Yes
      ZNAM: No
    index_name: ADReverseX

  - type: AsynBinary
    name: ReverseY
    description: ReverseY
    drv_info: REVERSE_Y
    initial: 0
    record_fields:
      SCAN: I/O Intr
      ONAM: Yes
      ZNAM: No
    index_name: ADReverseY

  - type: AsynFloat64
    name: AcquireTime
    description: AcquireTime
    drv_info: ACQ_TIME
    initial: 1.0
    record_fields:
      SCAN: I/O Intr
      PREC: 3
    index_name: ADAcquireTime

  - type: AsynFloat64
    name: AcquirePeriod
    description: AcquirePeriod
    drv_info: ACQ_PERIOD
    initial: 0.0
    record_fields:
      SCAN: I/O Intr
      PREC: 3
    index_name: ADAcquirePeriod

  - type: AsynFloat64
    name: Gain
    description: Gain
    drv_info: GAIN
    initial: 1.0
    record_fields:
      SCAN: I/O Intr
      PREC: 3
    index_name: ADGain

  - type: AsynMultiBitBinary
    name: FrameType
    description: FrameType
    drv_info: FRAME_TYPE
    initial: 0
    record_fields:
      SCAN: I/O Intr
      ONST: Background
      ONVL: '1'
      THST: DblCorrelation
      THVL: '3'
      TWST: FlatField
      TWVL: '2'
      ZRST: Normal
      ZRVL: '0'
    index_name: ADFrameType

  - type: AsynMultiBitBinary
    name: ImageMode
    description: ImageMode
    drv_info: IMAGE_MODE
    initial: 2
    record_fields:
      SCAN: I/O Intr
      ONST: Multiple
      ONVL: '1'
      TWST: Continuous
      TWVL: '2'
      ZRST: Single
      ZRVL: '0'
    index_name: ADImageMode

  - type: AsynMultiBitBinary
    name: TriggerMode
    description: TriggerMode
    drv_info: TRIGGER_MODE
    initial: 0
    record_fields:
      SCAN: I/O Intr
      ONST: External
      ONVL: '1'
      ZRST: Internal
      ZRVL: '0'
    index_name: ADTriggerMode

  - type: AsynLong
    name: NumExposures
    description: NumExposures
    drv_info: NEXPOSURES
    initial: 1
    record_fields:
      SCAN: I/O Intr
    index_name: ADNumExposures

  - type: AsynLong
    name: NumImages
    description: NumImages
    drv_info: NIMAGES
    initial: 1
    record_fields:
      SCAN: I/O Intr
    index_name: ADNumImages

  - type: AsynMultiBitBinary
    name: ShutterMode
    description: ShutterMode
    drv_info: SHUTTER_MODE
    initial: 0
    record_fields:
      SCAN: I/O Intr
      ONST: EPICS PV
      ONVL: '1'
      TWST: Camera output
      TWVL: '2'
      ZRST: None
      ZRVL: '0'
    index_name: ADShutterMode

  - type: AsynBinary
    name: ShutterControl
    description: ShutterControl
    drv_info: SHUTTER_CONTROL
    initial: 0
    record_fields:
      SCAN: I/O Intr
      ONAM: Open
      ZNAM: Close
    index_name: ADShutterControl

  - type: AsynFloat64
    name: ShutterOpenDelay
    description: ShutterOpenDelay
    drv_info: SHUTTER_OPEN_DELAY
    initial: 0.0
    record_fields:
      SCAN: I/O Intr
      PREC: 3
    index_name: ADShutterOpenDelay

  - type: AsynFloat64
    name: ShutterCloseDelay
    description: ShutterCloseDelay
    drv_info: SHUTTER_CLOSE_DELAY
    initial: 0.0
    record_fields:
      SCAN: I/O Intr
      PREC: 3
    index_name: ADShutterCloseDelay

  - type: AsynFloat64
    name: Temperature
    description: Temperature
    drv_info: TEMPERATURE
    initial: 25.0
    record_fields:
      SCAN: I/O Intr
      EGU: C
      PREC: 1
    index_name: ADTemperature
